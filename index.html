<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ì—Ä–∏–º—É–∞—Ä –ê–∑–∞—Ç–∞ ‚Äî AzatOS Dashboard</title>
  <meta name="description" content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∏–º—É–∞—Ä ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–≤–∏–∑–æ–≤, —Ü–µ–ª–µ–π –∏ –∞–ø–≥—Ä–µ–π–¥–æ–≤ –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞." />
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <style>
    /* ==========================
       AzatOS ‚Äî Single-file CSS
       ========================== */
    :root{
      --bg:#0f1724; /* deep navy */
      --card:#0f1724;
      --muted:#9aa4b2;
      --accent:#5eead4; /* teal */
      --accent-2:#60a5fa; /* blue */
      --glass: rgba(255,255,255,0.04);
      --success:#22c55e;
      --danger:#f43f5e;
      --card-2:#0b1220;
      --glass-2: rgba(255,255,255,0.02);
      --mono: 'Courier New', monospace;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#071026 0%, #07121b 60%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.35;
      padding:20px;
    }

    /* layout */
    .app{
      max-width:1100px;
      margin:0 auto;
      display:grid;
      grid-template-columns: 360px 1fr;
      gap:18px;
      align-items:start;
    }
    header{grid-column:1/-1;margin-bottom:8px}
    .topbar{
      display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter: blur(6px);
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:48px;height:48px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#011; background:linear-gradient(135deg,var(--accent),var(--accent-2));
      box-shadow:0 6px 18px rgba(96,165,250,0.08), inset 0 -6px 12px rgba(0,0,0,0.25);
    }
    .brand h1{font-size:18px;margin:0}
    .brand p{margin:0;color:var(--muted);font-size:12px}

    /* Sidebar */
    .sidebar{padding:12px;border-radius:12px;background:linear-gradient(180deg,var(--card),var(--card-2));border:1px solid rgba(255,255,255,0.03);height:calc(100vh - 96px);overflow:auto}
    .section-title{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin:8px 0}
    .profile{display:flex;gap:12px;align-items:center}
    .avatar{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700;background:linear-gradient(180deg,#111827,#0b1220)}
    .meta small{display:block;color:var(--muted)}

    .nav{margin-top:12px;display:flex;flex-direction:column;gap:6px}
    .nav button{display:flex;gap:8px;align-items:center;padding:10px;border-radius:8px;border:0;background:transparent;color:inherit;cursor:pointer}
    .nav button.active{background:linear-gradient(90deg, rgba(96,165,250,0.08), rgba(94,234,212,0.03));border:1px solid rgba(255,255,255,0.02)}

    .card{padding:14px;border-radius:12px;background:linear-gradient(180deg,var(--glass),transparent);border:1px solid rgba(255,255,255,0.03);}

    /* Main content area */
    .main{height:calc(100vh - 96px);overflow:auto;padding:6px}
    .columns{display:grid;grid-template-columns:1fr 420px;gap:14px}

    /* dashboard widgets */
    .row{display:flex;gap:12px}
    .stat{flex:1;padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02)}
    .stat h3{margin:0;font-size:13px;color:var(--muted)}
    .stat .value{font-size:22px;margin-top:6px}

    .progress-wrap{background:rgba(255,255,255,0.03);height:10px;border-radius:999px;overflow:hidden;margin-top:10px}
    .progress-inner{height:100%;width:30%;background:linear-gradient(90deg,var(--accent),var(--accent-2));}

    /* logs */
    .log-list{display:flex;flex-direction:column;gap:8px;margin-top:10px}
    .log-item{padding:10px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02)}
    .log-item .meta{font-size:12px;color:var(--muted)}

    /* forms */
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type=text], textarea, select, input[type=number]{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    textarea{min-height:72px;resize:vertical}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:8px;border:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#021124;font-weight:600;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--accent-2)}

    /* projects list */
    .projects{display:flex;flex-direction:column;gap:8px}
    .project{padding:10px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02);display:flex;justify-content:space-between;align-items:center}
    .project .left{display:flex;gap:10px;align-items:center}
    .badge{padding:6px 8px;border-radius:999px;font-size:12px}
    .badge.open{background:rgba(96,165,250,0.08);color:var(--accent-2)}
    .badge.done{background:rgba(34,197,94,0.08);color:var(--success)}

    /* charts */
    .chart-card{padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02)}
    canvas{width:100%;height:180px;display:block}

    footer{grid-column:1/-1;margin-top:12px;color:var(--muted);font-size:12px;text-align:center}

    /* small screens */
    @media (max-width:980px){
      .app{grid-template-columns:1fr;}
      .sidebar{height:auto}
      .columns{grid-template-columns:1fr}
    }

    /* prettify monospace area */
    pre{background:rgba(0,0,0,0.2);padding:12px;border-radius:8px;overflow:auto;font-family:var(--mono);font-size:13px}
  </style>
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ -->
    <button id="manifestBtn" style="position: fixed; top: 20px; right: 20px; background: #806bc6; color: white; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; z-index: 999;">
    ‚öôÔ∏è –ú–∞–Ω–∏—Ñ–µ—Å—Ç –ê–∑–∞—Ç–∞ 2.0
    </button>

    <!-- –û–∫–Ω–æ -->
    <div id="manifestModal" style="display:none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); z-index:1000;">
        <div style="background: #6e77c2; color:#111; margin: 10% auto; padding: 20px; width: 80%; max-width: 800px; border-radius: 15px; overflow-y:auto; max-height:70vh;">
            <h2 style="text-align:center; margin-bottom: 20px;">–ú–∞–Ω–∏—Ñ–µ—Å—Ç –ê–∑–∞—Ç–∞ 2.0</h2>
                <p style="white-space: pre-line; line-height: 1.6;">
                    –° —ç—Ç–æ–≥–æ –¥–Ω—è —è –º–µ–Ω—è—é –º—ã—à–ª–µ–Ω–∏–µ –∏ —Ä–µ–∂–∏–º –∂–∏–∑–Ω–∏. 
                    –Ø —Å–∏–∂—É –Ω–∞ –ø–µ—Ä–≤—ã—Ö –ø–∞—Ä—Ç–∞—Ö, —Å–ª—É—à–∞—é, —É—á–∞—Å—Ç–≤—É—é, –∑–∞–¥–∞—é –≤–æ–ø—Ä–æ—Å—ã. –ú–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –±–æ–ª—å—à–µ –Ω–µ –≤–æ—Ä—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏–µ. –Ø —Ä–µ—à–∞—é –≤—Å—ë —Å–∞–º, –Ω–µ –∫–æ–ø–∏—Ä—É—é –æ—Ç–≤–µ—Ç—ã. –ï—Å–ª–∏ –Ω–µ –ø–æ–Ω–∏–º–∞—é ‚Äî —Ä–∞–∑–±–∏—Ä–∞—é—Å—å –∏ —Å–ø—Ä–∞—à–∏–≤–∞—é. –Ø –Ω–µ –ø–æ–ª–∞–≥–∞—é—Å—å –Ω–∞ –ò–ò.
                    –Ø –Ω–µ –¥–µ—Ä–∂—É—Å—å –∑–∞ –ª–µ–Ω–∏–≤—ã—Ö –ª—é–¥–µ–π. –Ø –∏—â—É —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç —Ä–∞—Å—Ç–∏, —Å–ø–æ—Ä–∏—Ç—å, –ø—Ä–æ–±–æ–≤–∞—Ç—å. –Ø –¥–æ–±—Ä–µ–µ –∏ —É–≤–µ—Ä–µ–Ω–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞—é, –∫—É–¥–∞ –∏–¥—É.
                    –Ø –¥–µ–ª–∞—é –≤—Å—ë –Ω–µ –∫ –¥–µ–¥–ª–∞–π–Ω—É, –∞ –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∏–ª –∑–∞–¥–∞–Ω–∏–µ. –ù–µ —Ä–∞–¥–∏ –æ—Ü–µ–Ω–∫–∏, –∞ —Ä–∞–¥–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è. –Ø –≤—Å–µ–≥–¥–∞ –∏—â—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –ø—Ä–æ–≤–µ—Ä—è—é —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

                    –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è —á—ë—Ç–∫–∏–µ —Ü–µ–ª–∏:
                    ‚Äî GPA 3.8 –∑–∞ —Å–µ–º–µ—Å—Ç—Ä;
                    ‚Äî –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —É—Ä–æ–≤–Ω—è C1;
                    ‚Äî –æ–¥–∏–Ω —Å–µ—Ä—å—ë–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏;
                    ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è –Ω–∞–≤—ã–∫–æ–≤;
                    ‚Äî —É–≤–µ—Ä–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã;
                    ‚Äî –Ω–∞–π—Ç–∏ –¥—Ä—É–∑–µ–π —Å —Ç–µ–º–∏ –∂–µ –∞–º–±–∏—Ü–∏—è–º–∏;
                    ‚Äî –∏–º–µ—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥;
                    ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ñ–æ—Ä–º—É –∏ –∑–¥–æ—Ä–æ–≤—å–µ;
                    ‚Äî –ø–æ–ª—É—á–∏—Ç—å –≤–æ–µ–Ω–Ω—ã–π –±–∏–ª–µ—Ç.
                </p>
            <button id="closeManifest" style="margin-top:20px; background:#222; color:white; padding:10px 20px; border:none; border-radius:8px; cursor:pointer;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        document.getElementById('manifestBtn').onclick = () => {
            document.getElementById('manifestModal').style.display = 'block';
        };
        document.getElementById('closeManifest').onclick = () => {
            document.getElementById('manifestModal').style.display = 'none';
        };
    </script>

  <div class="app">
    <header>
      <div class="topbar">
        <div class="brand">
          <div class="logo">A</div>
          <div>
            <h1>–ì—Ä–∏–º—É–∞—Ä –ê–∑–∞—Ç–∞ ‚Äî AzatOS</h1>
            <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∏–º—É–∞—Ä: —Ä–µ–≤–∏–∑, –ø—Ä–æ–µ–∫—Ç—ã, –≤–µ—Ä—Å–∏–∏ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –¥–∞—à–±–æ—Ä–¥–µ</p>
          </div>
        </div>
        <div style="display:flex;gap:10px;align-items:center">
          <div style="text-align:right">
            <div style="font-weight:700">Azat 2.0</div>
            <div style="font-size:12px;color:var(--muted)">–ü–æ—Å–ª–µ–¥–Ω—è—è —Ä–µ–≤–∏–∑–∏—è: <span id="last-rev">‚Äî</span></div>
          </div>
          <button id="exportBtn" class="btn">–≠–∫—Å–ø–æ—Ä—Ç</button>
        </div>
      </div>
    </header>

    <aside class="sidebar card">
      <div class="profile">
        <div class="avatar">A</div>
        <div class="meta">
          <div style="font-weight:700">–ê–∑–∞—Ç</div>
          <small>–ò–Ω–∂–µ–Ω–µ—Ä ‚Äî –≤–µ—Ä—Å–∏—è 2.0</small>
        </div>
      </div>

      <div class="section-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
      <nav class="nav" id="nav">
        <button data-view="dashboard" class="active">–ü–∞–Ω–µ–ª—å</button>
        <button data-view="daily">–î–Ω–µ–≤–Ω–∏–∫ –¥–Ω—è</button>
        <button data-view="projects">–ü—Ä–æ–µ–∫—Ç—ã</button>
        <button data-view="goals">–¶–µ–ª–∏</button>
        <button data-view="versions">–í–µ—Ä—Å–∏–∏</button>
        <button data-view="stats">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
        <button data-view="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </nav>

      <div class="section-title">–ö—Ä–∞—Ç–∫–æ</div>
      <div style="display:grid;gap:8px">
        <div class="card">
          <div style="font-size:13px;color:var(--muted)">GPA</div>
          <div style="font-weight:700">3.8 <small style="color:var(--muted)">(—Ü–µ–ª—å)</small></div>
        </div>
        <div class="card">
          <div style="font-size:13px;color:var(--muted)">–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</div>
          <div style="font-weight:700">C1 <small style="color:var(--muted)">(—Ü–µ–ª—å)</small></div>
        </div>
      </div>

      <div style="margin-top:12px;display:flex;gap:8px">
        <button id="newRevBtn" class="btn">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–≤–∏–∑</button>
        <button id="quickBtn" class="btn ghost">–ë—ã—Å—Ç—Ä–∞—è –∑–∞–º–µ—Ç–∫–∞</button>
      </div>

      <div style="margin-top:12px">
        <div class="section-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
        <div style="display:flex;gap:8px;flex-direction:column">
          <div class="badge open">–ë–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ 12:00 ‚Äî 3 –¥–Ω—è</div>
          <div class="badge open">–ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç—ã ‚Äî 2/3</div>
        </div>
      </div>
    </aside>

    <main class="main card">
      <!-- Views container -->
      <div id="views">
        <!-- Dashboard -->
        <section id="dashboard" class="view">
          <div class="columns">
            <div>
              <div class="row">
                <div class="stat card">
                  <h3>–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                  <div class="value" id="today-percent">‚Äî %</div>
                  <div class="progress-wrap"><div class="progress-inner" id="today-progress" style="width:0%"></div></div>
                </div>
                <div class="stat card">
                  <h3>–í–µ—Ä—Å–∏—è</h3>
                  <div class="value" id="version-name">Azat 2.0</div>
                  <div style="font-size:12px;color:var(--muted);margin-top:6px">–ê–ø–≥—Ä–µ–π–¥–æ–≤: <span id="version-count">0</span></div>
                </div>
              </div>

              <div style="margin-top:12px" class="card">
                <h3 style="margin:0 0 10px 0">–ù–µ–¥–∞–≤–Ω–∏–µ —Ä–µ–≤–∏–∑—ã</h3>
                <div id="recent-logs" class="log-list"></div>
              </div>

              <div style="margin-top:12px" class="card chart-card">
                <h3 style="margin:0 0 10px 0">–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ 14 –¥–Ω–µ–π</h3>
                <canvas id="trendChart"></canvas>
              </div>

            </div>

            <aside>
              <div class="card">
                <h3 style="margin:0 0 10px 0">–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≤–∏–∑–∏—è</h3>
                <div style="display:grid;gap:8px">
                  <label>–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å 0‚Äì100%</label>
                  <input id="quickPercent" type="number" min="0" max="100" value="70">
                  <label>–ö–æ—Ä–æ—Ç–∫–∞—è –∑–∞–º–µ—Ç–∫–∞</label>
                  <input id="quickNote" type="text" placeholder="–ß—Ç–æ —Å–¥–µ–ª–∞–ª —Å–µ–≥–æ–¥–Ω—è?">
                  <div style="display:flex;gap:8px">
                    <button id="quickSave" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="quickDiscard" class="btn ghost">–û—á–∏—Å—Ç–∏—Ç—å</button>
                  </div>
                </div>
              </div>

              <div style="margin-top:12px" class="card">
                <h3 style="margin:0 0 10px 0">–°—Ç–∞—Ç—É—Å—ã —Ü–µ–ª–µ–π</h3>
                <div style="display:flex;flex-direction:column;gap:8px">
                  <div style="display:flex;justify-content:space-between;align-items:center"><div>GPA</div><div id="goal-gpa">3.8</div></div>
                  <div style="display:flex;justify-content:space-between;align-items:center"><div>–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</div><div id="goal-eng">C1</div></div>
                  <div style="display:flex;justify-content:space-between;align-items:center"><div>–ü—Ä–æ–µ–∫—Ç—ã</div><div id="goal-proj">1 / 3</div></div>
                </div>
              </div>

            </aside>
          </div>
        </section>

        <!-- Daily log -->
        <section id="daily" class="view" style="display:none">
          <div class="row">
            <div style="flex:1">
              <div class="card">
                <h3>–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–≤–∏–∑</h3>
                <div style="display:grid;gap:8px">
                  <label>–î–∞—Ç–∞</label>
                  <input id="revDate" type="text" placeholder="YYYY-MM-DD">
                  <label>–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å 0‚Äì10</label>
                  <input id="revProd" type="number" min="0" max="10" value="7">
                  <label>–ß—Ç–æ —Å–¥–µ–ª–∞–ª</label>
                  <textarea id="revDone" placeholder="–ö—Ä–∞—Ç–∫–æ: –∑–∞–¥–∞—á–∏, –∑–Ω–∞–Ω–∏—è, –ø—Ä–æ–µ–∫—Ç—ã"></textarea>
                  <label>–ß—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å</label>
                  <textarea id="revFail" placeholder="–ö—Ä–∞—Ç–∫–æ: –±–∞–≥–∏, –ø—Ä–∏—á–∏–Ω—ã"></textarea>
                  <label>–ò–Ω—Å–∞–π—Ç –¥–Ω—è</label>
                  <input id="revInsight" type="text" placeholder="–ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥">
                  <label>–§–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ 0‚Äì10</label>
                  <input id="revHealth" type="number" min="0" max="10" value="8">
                  <div style="display:flex;gap:8px">
                    <button id="saveRev" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–≤–∏–∑</button>
                    <button id="clearRev" class="btn ghost">–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
                  </div>
                </div>
              </div>

              <div style="margin-top:12px" class="card">
                <h3>–õ–∏—Å—Ç —Ä–µ–≤–∏–∑–æ–≤</h3>
                <div id="logList" class="log-list"></div>
              </div>
            </div>

            <aside style="width:360px">
              <div class="card">
                <h3>–®–∞–±–ª–æ–Ω—ã</h3>
                <p style="color:var(--muted);font-size:13px">–ì–æ—Ç–æ–≤—ã–µ —Ñ–æ—Ä–º—ã –¥–ª—è —Ä–µ–≤–∏–∑–∞. –ö–æ–ø–∏—Ä—É–π –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π.</p>
                <pre id="template">–î–∞—Ç–∞: {date}\n–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: {prod}/10\n–ß—Ç–æ —Å–¥–µ–ª–∞–ª: \n–ß—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å: \n–ò–Ω—Å–∞–π—Ç: \n–§–∏–∑–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: {health}/10</pre>
                <button id="applyTemplate" class="btn ghost">–í—Å—Ç–∞–≤–∏—Ç—å –≤ —Ñ–æ—Ä–º—É</button>
              </div>

              <div style="margin-top:12px" class="card">
                <h3>–ö—Ä–∞—Ç–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <div style="display:grid;gap:6px">
                  <div>–°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: <strong id="avgProd">‚Äî</strong></div>
                  <div>–î–Ω–µ–π –≤ —Å–∏—Å—Ç–µ–º–µ: <strong id="daysCount">‚Äî</strong></div>
                </div>
              </div>
            </aside>
          </div>
        </section>

        <!-- Projects -->
        <section id="projects" class="view" style="display:none">
          <div class="row">
            <div style="flex:1">
              <div class="card">
                <h3>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</h3>
                <div style="display:grid;gap:8px">
                  <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                  <input id="projName" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PLC-MiniProject">
                  <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                  <textarea id="projDesc" placeholder="–ö—Ä–∞—Ç–∫–æ: —Ü–µ–ª—å, —Ä–µ–∑—É–ª—å—Ç–∞—Ç"></textarea>
                  <label>–¶–µ–ª—å (% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)</label>
                  <input id="projGoal" type="number" min="0" max="100" value="0">
                  <div style="display:flex;gap:8px">
                    <button id="addProj" class="btn">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                    <button id="importProj" class="btn ghost">–ò–º–ø–æ—Ä—Ç</button>
                  </div>
                </div>
              </div>

              <div style="margin-top:12px" class="card">
                <h3>–°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤</h3>
                <div id="projectsList" class="projects"></div>
              </div>
            </div>

            <aside style="width:360px">
              <div class="card">
                <h3>–®–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∞</h3>
                <pre>–ù–∞–∑–≤–∞–Ω–∏–µ: {name}\n–û–ø–∏—Å–∞–Ω–∏–µ: {desc}\n–¶–µ–ª—å: {goal}%\n–°—Ç–∞—Ç—É—Å: open/done</pre>
              </div>
            </aside>
          </div>
        </section>

        <!-- Goals -->
        <section id="goals" class="view" style="display:none">
          <div class="card">
            <h3>–¶–µ–ª–∏ (—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ)</h3>
            <div style="display:grid;gap:8px">
              <label>GPA (—Ü–µ–ª—å)</label>
              <input id="gpaTarget" type="text" value="3.8">
              <label>–ê–Ω–≥–ª–∏–π—Å–∫–∏–π</label>
              <input id="engTarget" type="text" value="C1">
              <label>–ü—Ä–æ–µ–∫—Ç—ã ‚Äî —á–∏—Å–ª–æ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö</label>
              <input id="projTarget" type="number" value="1" min="0">
              <div style="display:flex;gap:8px;margin-top:8px">
                <button id="saveGoals" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–µ–ª–∏</button>
                <button id="resetGoals" class="btn ghost">–°–±—Ä–æ—Å–∏—Ç—å</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Versions -->
        <section id="versions" class="view" style="display:none">
          <div class="row">
            <div style="flex:1">
              <div class="card">
                <h3>–ê—Ä—Ö–∏–≤ –≤–µ—Ä—Å–∏–π</h3>
                <div id="versionsList"></div>
              </div>

              <div style="margin-top:12px" class="card">
                <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é</h3>
                <div style="display:grid;gap:8px">
                  <label>–ù–∞–∑–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏</label>
                  <input id="verName" type="text" value="Azat 2.1">
                  <label>–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π</label>
                  <textarea id="verDesc"></textarea>
                  <div style="display:flex;gap:8px">
                    <button id="createVer" class="btn">–°–æ–∑–¥–∞—Ç—å</button>
                    <button id="revertVer" class="btn ghost">–û—Ç–∫–∞—Ç–∏—Ç—å –Ω–∞...</button>
                  </div>
                </div>
              </div>
            </div>

            <aside style="width:360px">
              <div class="card">
                <h3>–ü—Ä–∞–≤–∏–ª–∞ –≤–µ—Ä—Å–∏–π</h3>
                <ol style="color:var(--muted);padding-left:18px">
                  <li>–ö–∞–∂–¥–∞—è –≤–µ—Ä—Å–∏—è ‚Äî —Å–ø–∏—Å–æ–∫ –∞–ø–≥—Ä–µ–π–¥–æ–≤ –∏ –±–∞–≥–æ–≤, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤ —Å–µ–±–µ.</li>
                  <li>–í–µ—Ä—Å–∏—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –µ–∂–µ–º–µ—Å—è—á–Ω–æ –∏–ª–∏ –ø—Ä–∏ –∑–Ω–∞—á–∏–º–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–µ.</li>
                  <li>–ù–∞–∑–≤–∞–Ω–∏—è: —Å–µ–º–∞–Ω—Ç–∏–∫–∞ –≤–∏–¥–∞ "Azat X.Y"</li>
                </ol>
              </div>
            </aside>
          </div>
        </section>

        <!-- Stats -->
        <section id="stats" class="view" style="display:none">
          <div class="card">
            <h3>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç</h3>
            <div style="display:grid;gap:8px">
              <div>–°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: <strong id="statAvg">‚Äî</strong></div>
              <div>–¢—Ä–µ–Ω–¥: <strong id="statTrend">‚Äî</strong></div>
              <div style="margin-top:8px">
                <button id="downloadCsv" class="btn">–°–∫–∞—á–∞—Ç—å CSV</button>
                <button id="downloadJson" class="btn ghost">–°–∫–∞—á–∞—Ç—å JSON</button>
              </div>
            </div>
            <div style="margin-top:12px" class="chart-card">
              <h4>–ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h4>
              <canvas id="histCanvas"></canvas>
            </div>
          </div>
        </section>

        <!-- Settings -->
        <section id="settings" class="view" style="display:none">
          <div class="card">
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div style="display:grid;gap:8px">
              <label>–ò–º—è</label>
              <input id="userName" type="text" value="–ê–∑–∞—Ç">
              <label>–ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è</label>
              <input id="initVer" type="text" value="Azat 2.0">
              <label>–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</label>
              <select id="autosave">
                <option value="on">–í–∫–ª</option>
                <option value="off">–í—ã–∫–ª</option>
              </select>
              <div style="display:flex;gap:8px;margin-top:8px">
                <button id="saveSettings" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button id="clearAll" class="btn ghost">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
              </div>
            </div>
          </div>
        </section>

      </div>

      <footer>
        AzatOS ‚Äî —Ç–≤–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –≥—Ä–∏–º—É–∞—Ä. –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –°–¥–µ–ª–∞–π —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —á–µ—Ä–µ–∑ —ç–∫—Å–ø–æ—Ä—Ç.
      </footer>
    </main>
  </div>

  <script>
    // ==========================
    // AzatOS ‚Äî Single-file JS
    // ==========================

    // Simple localStorage-based DB
    const DB_KEY = 'azatos_v1';
    const DEFAULT = {
      settings: {name: '–ê–∑–∞—Ç', initVer: 'Azat 2.0', autosave: 'on'},
      goals: {gpa: '3.8', eng: 'C1', proj: 1},
      versions: [{name:'Azat 2.0', desc:'Initial manifest', date: new Date().toISOString(), id: genId()}],
      revs: [],
      projects: []
    };

    function genId(){ return 'id_' + Math.random().toString(36).slice(2,9) }

    function load(){
      try{
        const raw = localStorage.getItem(DB_KEY);
        return raw ? JSON.parse(raw) : DEFAULT;
      }catch(e){console.error('load err',e);return DEFAULT}
    }
    function save(db){
      localStorage.setItem(DB_KEY, JSON.stringify(db));
      renderAll();
    }

    let DB = load();

    // === UI helpers ===
    function qs(sel, root=document) { return root.querySelector(sel) }
    function qsa(sel, root=document) { return Array.from(root.querySelectorAll(sel)) }

    // Navigation
    qsa('.nav button').forEach(btn=>btn.addEventListener('click',()=>{
      qsa('.nav button').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      showView(btn.dataset.view);
    }))

    function showView(name){
      qsa('.view').forEach(v=>v.style.display='none');
      const el = qs('#'+name);
      if(el) el.style.display='block';
      window.scrollTo(0,0);
    }

    // initial view
    showView('dashboard');

    // Quick add
    qs('#newRevBtn').addEventListener('click',()=>{
      showView('daily');
      const d = new Date().toISOString().slice(0,10);
      qs('#revDate').value = d;
    })

    qs('#quickSave').addEventListener('click',()=>{
      const p = Number(qs('#quickPercent').value)||0;
      const note = qs('#quickNote').value || '';
      const rev = {id: genId(), date: new Date().toISOString().slice(0,10), prod: Math.round(p/10), note, health:8};
      DB.revs.unshift(rev);
      save(DB);
      qs('#quickNote').value='';
      notify('–†–µ–≤–∏–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω');
    })
    qs('#quickDiscard').addEventListener('click',()=>{qs('#quickNote').value='';qs('#quickPercent').value=70})

    // Daily save
    qs('#saveRev').addEventListener('click',()=>{
      const date = qs('#revDate').value || new Date().toISOString().slice(0,10);
      const prod = Number(qs('#revProd').value) || 0;
      const done = qs('#revDone').value || '';
      const fail = qs('#revFail').value || '';
      const insight = qs('#revInsight').value || '';
      const health = Number(qs('#revHealth').value) || 0;
      const rev = {id: genId(), date, prod, done, fail, insight, health};
      DB.revs.unshift(rev);
      save(DB);
      notify('–†–µ–≤–∏–∑ –¥–æ–±–∞–≤–ª–µ–Ω');
      clearRevForm();
    })
    qs('#clearRev').addEventListener('click',clearRevForm);

    function clearRevForm(){
      ['#revDate','#revProd','#revDone','#revFail','#revInsight','#revHealth'].forEach(s=>qs(s).value='');
    }

    // Template
    qs('#applyTemplate').addEventListener('click',()=>{
      const t = qs('#template').innerText;
      qs('#revDone').value = t.replace('{date}', new Date().toISOString().slice(0,10)).replace('{prod}','7').replace('{health}','8');
      notify('–®–∞–±–ª–æ–Ω –ø—Ä–∏–º–µ–Ω—ë–Ω');
    })

    // Projects
    qs('#addProj').addEventListener('click',()=>{
      const name = qs('#projName').value.trim();
      if(!name){notify('–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞', true);return}
      const desc = qs('#projDesc').value.trim();
      const goal = Number(qs('#projGoal').value)||0;
      const project = {id:genId(), name, desc, goal, status:'open'};
      DB.projects.push(project);
      save(DB);
      qs('#projName').value='';qs('#projDesc').value='';qs('#projGoal').value=0;
      notify('–ü—Ä–æ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω');
    })

    // Goals
    qs('#saveGoals').addEventListener('click',()=>{
      DB.goals.gpa = qs('#gpaTarget').value;
      DB.goals.eng = qs('#engTarget').value;
      DB.goals.proj = Number(qs('#projTarget').value)||0;
      save(DB);
      notify('–¶–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
    })
    qs('#resetGoals').addEventListener('click',()=>{DB.goals = DEFAULT.goals; save(DB);notify('–¶–µ–ª–∏ —Å–±—Ä–æ—à–µ–Ω—ã')})

    // Versions
    qs('#createVer').addEventListener('click',()=>{
      const name = qs('#verName').value || ('Azat ' + Math.floor(Math.random()*10)+'.0');
      const desc = qs('#verDesc').value || '';
      const v = {id:genId(), name, desc, date:new Date().toISOString()};
      DB.versions.unshift(v);
      save(DB);
      qs('#verDesc').value='';
      notify('–í–µ—Ä—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞');
    })

    // Settings
    qs('#saveSettings').addEventListener('click',()=>{
      DB.settings.name = qs('#userName').value || '–ê–∑–∞—Ç';
      DB.settings.initVer = qs('#initVer').value || 'Azat 2.0';
      DB.settings.autosave = qs('#autosave').value;
      save(DB);
      notify('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
    })
    qs('#clearAll').addEventListener('click',()=>{
      if(!confirm('–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ? –≠—Ç–æ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.')) return;
      localStorage.removeItem(DB_KEY);
      DB = JSON.parse(JSON.stringify(DEFAULT));
      save(DB);
      notify('–î–∞–Ω–Ω—ã–µ —Å–±—Ä–æ—à–µ–Ω—ã');
    })

    // Export
    qs('#exportBtn').addEventListener('click',()=>{downloadJson(); notify('–≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—á–∞—Ç')})
    qs('#downloadJson').addEventListener('click',downloadJson)
    qs('#downloadCsv').addEventListener('click',downloadCsv)

    function downloadJson(){
      const blob = new Blob([JSON.stringify(DB, null, 2)],{type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'azatos_export_'+new Date().toISOString().slice(0,10)+'.json'; a.click(); URL.revokeObjectURL(url);
    }

    function downloadCsv(){
      // simple CSV of revs
      const rows = [['date','prod','done','fail','insight','health']];
      DB.revs.forEach(r=>rows.push([r.date||'',r.prod||'', '"'+(r.done||'').replace(/\"/g,'"')+'"', '"'+(r.fail||'').replace(/\"/g,'"')+'"', '"'+(r.insight||'')+'"', r.health||'']));
      const csv = rows.map(r=>r.join(',')).join('\n');
      const blob = new Blob([csv],{type:'text/csv'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'azatos_revs_'+new Date().toISOString().slice(0,10)+'.csv'; a.click(); URL.revokeObjectURL(url);
    }

    // Renderers
    function renderAll(){
      // settings
      qs('#userName').value = DB.settings.name || '–ê–∑–∞—Ç';
      qs('#initVer').value = DB.settings.initVer || 'Azat 2.0';
      qs('#autosave').value = DB.settings.autosave || 'on';

      qs('#version-name').innerText = DB.versions[0]?.name || 'Azat 2.0';
      qs('#version-count').innerText = DB.versions.length;
      qs('#last-rev').innerText = DB.revs[0]?.date || '‚Äî';

      // recent logs
      const recent = qs('#recent-logs'); recent.innerHTML='';
      DB.revs.slice(0,6).forEach(r=>{
        const it = document.createElement('div'); it.className='log-item';
        it.innerHTML = `<div style="display:flex;justify-content:space-between"><strong>${r.date}</strong><small style='color:var(--muted)'>prod:${r.prod}/10</small></div><div style='margin-top:6px;color:var(--muted)'>${(r.done||r.note||'‚Äî')}</div>`;
        recent.appendChild(it);
      })




      // log list
      const logList = qs('#logList'); logList.innerHTML='';
      DB.revs.forEach(r=>{
        const e = document.createElement('div'); e.className='log-item';
        e.innerHTML = `<div style="display:flex;justify-content:space-between"><div><strong>${r.date}</strong><div class='meta' style='color:var(--muted)'>insight: ${r.insight||'‚Äî'}</div></div><div style='text-align:right'><small style='color:var(--muted)'>prod ${r.prod}/10</small><div style='margin-top:6px'><button data-id='${r.id}' class='btn ghost small delRev'>–£–¥–∞–ª–∏—Ç—å</button></div></div></div><div style='margin-top:8px;color:var(--muted)'>${(r.done||r.note||'‚Äî')}</div>`;
        logList.appendChild(e);
      })
      qsa('.delRev').forEach(b=>b.addEventListener('click',()=>{const id=b.dataset.id;DB.revs=DB.revs.filter(rr=>rr.id!==id);save(DB);notify('–†–µ–≤–∏–∑ —É–¥–∞–ª—ë–Ω')}))

      // projects
      const pList = qs('#projectsList'); pList.innerHTML='';
      DB.projects.forEach(p=>{
        const it = document.createElement('div'); it.className='project';
        it.innerHTML = `<div class='left'><div style='width:12px;height:12px;border-radius:4px;background:${p.status==='done'? 'var(--success)':'var(--accent)'}'></div><div><strong>${p.name}</strong><div style='font-size:12px;color:var(--muted)'>${p.desc||''}</div></div></div><div style='display:flex;gap:8px;align-items:center'><div style='font-weight:700'>${p.goal}%</div><button data-id='${p.id}' class='btn ghost markDone'>‚úì</button><button data-id='${p.id}' class='btn ghost delProj'>‚úï</button></div>`;
        pList.appendChild(it);
      })
      qsa('.delProj').forEach(b=>b.addEventListener('click',()=>{DB.projects=DB.projects.filter(p=>p.id!==b.dataset.id);save(DB);notify('–ü—Ä–æ–µ–∫—Ç —É–¥–∞–ª—ë–Ω')}))
      qsa('.markDone').forEach(b=>b.addEventListener('click',()=>{const p=DB.projects.find(pp=>pp.id===b.dataset.id);if(p){p.status='done';save(DB);notify('–ü—Ä–æ–µ–∫—Ç –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π')}}))

      // versions
      const verEl = qs('#versionsList'); verEl.innerHTML='';
      DB.versions.forEach(v=>{
        const e = document.createElement('div'); e.className='log-item';
        e.innerHTML = `<div style='display:flex;justify-content:space-between'><strong>${v.name}</strong><small style='color:var(--muted)'>${new Date(v.date).toLocaleString()}</small></div><div style='margin-top:6px;color:var(--muted)'>${v.desc||'‚Äî'}</div>`;
        verEl.appendChild(e);
      })

      // stats
      renderStats();

      // dashboard numbers
      const today = DB.revs[0];
      if(today){
        const pct = Math.round((today.prod||0) * 10);
        qs('#today-percent').innerText = pct + ' %';
        qs('#today-progress').style.width = pct + '%';
      } else { qs('#today-percent').innerText = '‚Äî %'; qs('#today-progress').style.width='0%'}

      qs('#goal-gpa').innerText = DB.goals.gpa;
      qs('#goal-eng').innerText = DB.goals.eng;
      qs('#goal-proj').innerText = `${DB.projects.filter(p=>p.status!=='done').length} / ${DB.goals.proj}`;

      // charts
      drawTrendChart(); drawHist();
    }

    function renderStats(){
      const avg = DB.revs.length ? (DB.revs.reduce((s,r)=>s+(r.prod||0),0)/DB.revs.length).toFixed(2) : '‚Äî';
      qs('#avgProd').innerText = avg === '‚Äî' ? '‚Äî' : (avg+' /10');
      qs('#daysCount').innerText = DB.revs.length || '0';
      qs('#statAvg').innerText = avg === '‚Äî' ? '‚Äî' : (avg + ' /10');
      // trend (simple slope)
      if(DB.revs.length>2){
        const y = DB.revs.map((r,i)=>r.prod||0).slice(0,14).reverse();
        const x = y.map((_,i)=>i);
        const n = x.length;
        const avgx = x.reduce((a,b)=>a+b,0)/n; const avgy = y.reduce((a,b)=>a+b,0)/n;
        const num = x.reduce((s,xi,i)=>s + (xi-avgx)*(y[i]-avgy),0);
        const den = x.reduce((s,xi)=>s + (xi-avgx)*(xi-avgx),0) || 1;
        const slope = num/den;
        qs('#statTrend').innerText = slope.toFixed(2) + ' (slope)';
      } else qs('#statTrend').innerText = '‚Äî';
    }

    // notifications (very tiny)
    function notify(text, isErr=false){
      const n = document.createElement('div'); n.style.position='fixed'; n.style.right='20px'; n.style.bottom='20px'; n.style.background='linear-gradient(90deg,var(--accent),var(--accent-2))'; n.style.color='#021124'; n.style.padding='10px 12px'; n.style.borderRadius='10px'; n.style.boxShadow='0 10px 30px rgba(2,6,23,0.6)'; n.innerText = text;
      document.body.appendChild(n);
      setTimeout(()=>{n.style.opacity='0'; setTimeout(()=>n.remove(),300)},2000);
    }

    // charts (Canvas simple)
    function drawTrendChart(){
      const canvas = qs('#trendChart'); const ctx = canvas.getContext('2d');
      canvas.width = canvas.clientWidth * devicePixelRatio; canvas.height = 180 * devicePixelRatio; ctx.scale(devicePixelRatio, devicePixelRatio);
      // clear
      ctx.clearRect(0,0,canvas.clientWidth,180);
      // data
      const series = DB.revs.slice(0,14).map(r=>r.prod||0).reverse();
      const w = canvas.clientWidth; const h=180; const pad=24; ctx.lineWidth=2;
      // axes
      ctx.strokeStyle = 'rgba(255,255,255,0.06)'; ctx.beginPath(); ctx.moveTo(pad,h-pad); ctx.lineTo(w-pad,h-pad); ctx.stroke();
      // draw polyline
      if(series.length===0) return;
      const max = Math.max(...series,10); const min = Math.min(...series,0);
      ctx.beginPath(); ctx.strokeStyle = 'rgba(96,165,250,0.9)';
      series.forEach((v,i)=>{
        const x = pad + (i/(series.length-1||1))*(w-pad*2);
        const y = pad + (1-(v-min)/(max-min||1))*(h-pad*2);
        if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      })
      ctx.stroke();
    }

    function drawHist(){
      const canvas = qs('#histCanvas'); const ctx = canvas.getContext('2d');
      canvas.width = canvas.clientWidth*devicePixelRatio; canvas.height = 180*devicePixelRatio; ctx.scale(devicePixelRatio, devicePixelRatio);
      ctx.clearRect(0,0,canvas.clientWidth,180);
      const bins = new Array(10).fill(0);
      DB.revs.forEach(r=>{const idx=Math.min(9,Math.max(0,Math.floor((r.prod||0)))); bins[idx]++});
      const w = canvas.clientWidth; const h=180; const pad=20;
      const max = Math.max(...bins,1);
      const barW = (w-pad*2)/bins.length;
      bins.forEach((b,i)=>{const x=pad+i*barW; const barH=(b/max)*(h-pad*2); ctx.fillStyle='rgba(94,234,212,0.8)'; ctx.fillRect(x, h-pad-barH, barW*0.8, barH);})
    }

    // autosave every X seconds if enabled
    setInterval(()=>{ if(DB.settings.autosave==='on'){ save(DB) } }, 1000*60*5);

    // simple re-render on load
    renderAll();

    // helper: when page first loaded, if no data, populate sample points for demo
    if(DB.revs.length===0){
      for(let i=0;i<7;i++){DB.revs.push({id:genId(), date: new Date(Date.now()-i*86400000).toISOString().slice(0,10), prod: Math.max(3, Math.round(7 + Math.sin(i)*2)), done:'', insight:'', health:7});}
      save(DB);
    }

  </script>

  <div style="margin: 50px auto; max-width: 700px; background: #1e1e1e; padding: 20px; border-radius: 15px; color: white;">
    <h2 style="text-align:center; margin-bottom: 15px;">üî• Everyday Must-Do Tracker</h2>
    <p style="text-align:center; font-size:14px; color:#ccc;">–û—Ç–º–µ—á–∞–π –≥–∞–ª–æ—á–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>

    <div id="mustDoList" style="margin-top:20px; display:flex; flex-direction:column; gap:10px;">
        <label><input type="checkbox" class="mustdo" data-key="english"> –£—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (C1 –ø—É—Ç—å)</label>
        <label><input type="checkbox" class="mustdo" data-key="project"> –†–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</label>
        <label><input type="checkbox" class="mustdo" data-key="miniProject"> –î–µ–ª–∞—Ç—å –º–∏–Ω–∏-–∑–∞–¥–∞—á–∏ –∏–ª–∏ –ø—Ä–∞–∫—Ç–∏–∫—É</label>
        <label><input type="checkbox" class="mustdo" data-key="study"> –£—á—ë–±–∞ –∏ –∫–æ–Ω—Å–ø–µ–∫—Ç—ã –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º</label>
        <label><input type="checkbox" class="mustdo" data-key="sport"> –°–ø–æ—Ä—Ç –∏–ª–∏ —Ä–∞–∑–º–∏–Ω–∫–∞ (—Å–ø–∏–Ω–∞, —Ç–µ–ª–æ, —Ñ–æ–∫—É—Å)</label>
        <label><input type="checkbox" class="mustdo" data-key="reflection"> –í–µ—á–µ—Ä–Ω–∏–π –∞–Ω–∞–ª–∏–∑: —á—Ç–æ —Å–¥–µ–ª–∞–ª, —á—Ç–æ —É–ª—É—á—à–∏—Ç—å</label>
    </div>

    <button id="resetMustDo" style="margin-top:20px; padding:10px 20px; border:none; border-radius:10px; background:#ff4444; color:white; cursor:pointer;">‚ôªÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –∑–∞ –¥–µ–Ω—å</button>
  </div>

    <script>
        const checkboxes = document.querySelectorAll('.mustdo');
        const storageKey = 'AzatMustDo';

        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        const savedState = JSON.parse(localStorage.getItem(storageKey)) || {};
        checkboxes.forEach(cb => {
            cb.checked = !!savedState[cb.dataset.key];
            cb.addEventListener('change', () => {
            savedState[cb.dataset.key] = cb.checked;
            localStorage.setItem(storageKey, JSON.stringify(savedState));
            });
        });

        // –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞
        document.getElementById('resetMustDo').addEventListener('click', () => {
            checkboxes.forEach(cb => cb.checked = false);
            localStorage.removeItem(storageKey);
        });
    </script>

</body>
</html>
